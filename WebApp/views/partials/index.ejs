<%include ../Head.ejs%>
<%include ../Header.ejs%>
<main>
    <div class="Map_Region">
        <div class="Map_Header">
            <h2>Current Map Location</h2>
        </div>
        <div Id="Google_Map"></div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initialize"></script>
        <script src="javascripts/index.js"></script>
    </div>
    <div class="Unit_Region">
        <h4 class="Unit_Leader" onclick="restart()">Leader</h4>
        <div class="Unit_Breakdown">
            <div class="Parent_Unit">
                <p onclick="addShowing('<%=Command%>')"><%=Command%></p>
            </div>
            <div class="Child_Units">
                <ul id="ChildUnitList">
                    <%ChildUnits.forEach(function(unitName){%>
                    <li onclick="modifyShowing('<%=unitName%>')"><%=unitName%></li>
                    <%});%>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        function modifyShowing(unit){
            $.ajax({type: 'POST', url: '/units/' + unit});
        }
        function addShowing(unit){
            $.ajax({type: 'POST', url: '/units/' + unit});
        }
        function restart(){
            $.ajax({type: 'POST', url: '/users/All'});
        }
        </script>
</main>
<%include ../Footer.ejs%>